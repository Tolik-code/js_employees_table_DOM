{"version":3,"sources":["scripts/main.js"],"names":["tbodyTr","document","querySelectorAll","tbody","querySelector","thead","prnt","parentElement","strInNumber","str","replace","variable","sortTable","column","reverse","sort","item","item1","elem","children","textContent","elem1","forEach","node","appendChild","index","onclick","addFuncItem","addEventListener","element","classList","remove","add","map","cell","oldValue","innerHTML","input","focus","e","key","blur","value","form","createElement","className","onsubmit","reset","body","append","btnForm","formatSalary","num","length","substring","crtPeople","newPeople","name","position","office","age","salary","newNotification","type","info","notification","setAttribute","setTimeout","validForm","newError"],"mappings":"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","file":"main.cb3cc84e.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\n// write code here\nconst tbodyTr = document.querySelectorAll('tbody tr');\nconst tbody = document.querySelector('tbody');\nconst thead = document.querySelectorAll('thead th');\n\nconst prnt = tbodyTr[0].parentElement;\n\nconst strInNumber = (str) => {\n  return str.replace(/[^\\d]/g, '') * 1;\n};\n\nlet variable = '';\n\nconst sortTable = (column) => {\n  let reverse = false;\n\n  if (variable === column) {\n    reverse = true;\n    variable = '';\n  } else {\n    variable = column;\n  }\n\n  [...document.querySelectorAll('tbody tr')].sort((item, item1) => {\n    let elem = item.children[column].textContent;\n    let elem1 = item1.children[column].textContent;\n\n    if (reverse) {\n      elem = item1.children[column].textContent;\n      elem1 = item.children[column].textContent;\n    }\n\n    if (column !== 4 && column !== 3) {\n      if (elem1 > elem) {\n        return -1;\n      }\n\n      if (elem1 < elem) {\n        return 1;\n      }\n\n      return 0;\n    }\n\n    return strInNumber(elem1) - strInNumber(elem);\n  }).forEach(function(node) {\n    prnt.appendChild(node);\n  });\n};\n\nthead.forEach((elem, index) => {\n  elem.onclick = () => {\n    sortTable(index);\n  };\n});\n\nconst addFuncItem = (item) => {\n  item.addEventListener('click', () => {\n    document.querySelectorAll('tbody tr').forEach((element) => {\n      element.classList.remove('active');\n    });\n    item.classList.add('active');\n  });\n\n  [item].forEach((elem) => {\n    [...elem.children].map((cell) => {\n      cell.addEventListener('dblclick', () => {\n        const oldValue = cell.innerHTML;\n\n        cell.innerHTML = '<input class=\"cell-input\"/>';\n\n        const input = cell.children[0];\n\n        input.focus();\n\n        input.addEventListener('keydown', (e) => {\n          if (e.key === 'Enter') {\n            input.blur();\n          }\n        });\n\n        input.addEventListener('blur', () => {\n          if (input.value !== '') {\n            cell.innerHTML = input.value;\n          } else {\n            cell.innerHTML = oldValue;\n          }\n        });\n      });\n    });\n  });\n};\n\ntbodyTr.forEach((item) => {\n  addFuncItem(item);\n});\n\nconst form = document.createElement('form');\n\nform.className = 'new-employee-form';\n\nform.onsubmit = () => {\n  form.reset();\n\n  return false;\n};\n\nform.innerHTML = `\n <label>\n Name: <input type=\"text\" name=\"name\"\n required  data-qa=\"name\" />\n </label>\n\n <label>\n Position: <input type=\"text\" name=\"position\"\n required  data-qa=\"position\"/>\n </label>\n\n<label>\n Office: <select data-qa=\"office\" name=\"office\"\n    required >\n        <option>Tokyo</option>\n        <option>Singapore</option>\n        <option>London</option>\n        <option>New York</option>\n        <option>Edinburgh</option>\n        <option>San Francisco</option>\n    </select>\n</label>\n\n <label>\n Age :<input type=\"number\" name=\"age\"\n    data-qa=\"age\" required/>\n </label>\n\n <label>\n Salary: <input type=\"number\" name=\"salary\"\n    data-qa=\"salary\" required/>\n </label>\n\n <button>Save to table</button>\n`;\ndocument.body.append(form);\n\nconst btnForm = document.querySelector('form button');\n\nconst formatSalary = (num) => {\n  if (num.length < 6) {\n    return '$' + num.substring(0, 2) + ',' + num.substring(2);\n  }\n\n  return '$' + num.substring(0, 3) + ',' + num.substring(3);\n};\n\nconst crtPeople = () => {\n  const newPeople = document.createElement('tr');\n\n  newPeople.innerHTML = `\n  <td>${form.name.value}</td>\n  <td>${form.position.value}</td>\n  <td>${form.office.value}</td>\n  <td>${form.age.value}</td>\n  <td>${formatSalary(form.salary.value)}</td>\n    `;\n  addFuncItem(newPeople);\n  tbody.append(newPeople);\n};\n\nconst newNotification = (type, info) => {\n  const notification = document.createElement('div');\n\n  notification.setAttribute('data-qa', 'notification');\n  notification.className = 'notification ' + type;\n\n  notification.innerHTML = `\n  <h2 class=\"title\">${type}</h2>\n  <p>${info}</p>\n  `;\n  document.body.append(notification);\n  setTimeout(() => notification.remove(), 2000);\n};\n\nconst validForm = () => {\n  let newError = '';\n\n  if (form.name.value.length < 4) {\n    newError += '|| no valid name || ';\n  }\n\n  if (+form.age.value < 18 || +form.age.value > 90) {\n    newError += '|| no valid age || ';\n  }\n\n  if (newError.length > 1) {\n    newNotification('err', newError);\n\n    return false;\n  }\n\n  newNotification('succes', 'new people added, all good!!!');\n\n  return true;\n};\n\nbtnForm.addEventListener('click', () => {\n  if (form.name.value !== '' && form.salary.value !== '') {\n    if (form.position.value !== '' && form.age.value !== '') {\n      if (validForm()) {\n        crtPeople();\n      }\n    }\n  }\n});\n"]}